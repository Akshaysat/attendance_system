<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body class="register-page">
    <div id="page-loader" class="hidden" aria-live="polite" aria-busy="true">
    <div class="loader-box">
        <div class="spinner" role="img" aria-label="Loading"></div>
        <div>Loadingâ€¦</div>
    </div>
    </div>
    <div class="container register-container">
        <h1>Register</h1>
        <form method="POST" action="/register" class="register-form">
            <div class="form-group">
                <label for="employee_id">Employee ID</label>
                <input type="text" id="employee_id" name="employee_id" placeholder="Employee ID" required>
            </div>
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name" placeholder="First Name" required>
            </div>
            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name" placeholder="Last Name" required>
            </div>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" placeholder="Username" required>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" placeholder="Password" required>
            </div>
            <div class="form-group">
                <label for="admin_password">Admin Password</label>
                <input type="password" id="admin_password" name="admin_password" placeholder="Admin Password" required>
            </div>
            <button type="submit" class="register-button">Register</button>
        </form>
        <p><a href="/" class="back-link">Back to Home</a></p>
    </div>
    <script>
    (function(){
    const loader = document.getElementById('page-loader');
    function show(){ if(loader) loader.classList.remove('hidden'); }
    function hide(){ if(loader) loader.classList.add('hidden'); }

    // Show on any form submission (covers check-in/out, filters, login, etc.)
    function hookForms(){
        document.querySelectorAll('form').forEach(f => {
        f.addEventListener('submit', () => { show(); });
        });
    }

    // Show on navigational link clicks
    function hookLinks(){
        document.querySelectorAll('a[href]').forEach(a => {
        a.addEventListener('click', () => {
            const href = a.getAttribute('href');
            if (!href || href.startsWith('#') || href.startsWith('javascript:')) return;
            if (a.target === '_blank' || a.hasAttribute('data-no-loader')) return;
            show();
        });
        });
    }

    // Ensure loader hides when page restored from bfcache (back/forward)
    window.addEventListener('pageshow', hide);

    document.addEventListener('DOMContentLoaded', () => {
        hookForms();
        hookLinks();
    });
    })();
    </script>

</body>
</html>